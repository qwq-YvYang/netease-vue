const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/browser-id3-writer.Cin1xRVc.js","assets/js/vendor.DZvAaPCK.js","assets/js/jszip.min.rkY0D0ad.js","assets/js/audio-libs.Dz1_daxk.js","assets/js/rolldown-runtime.D4szDh5-.js"])))=>i.map(i=>d[i]);
import{r as e}from"./rolldown-runtime.D4szDh5-.js";import{$ as t,A as a,B as s,C as l,Ct as n,D as i,E as r,F as o,G as c,H as u,I as d,J as m,K as p,L as f,M as y,N as h,O as v,P as g,Q as w,R as b,S as _,St as x,T as k,U as I,V as E,W as C,X as T,Y as U,Z as $,_ as A,_t as P,a as S,at as M,b as z,bt as L,c as V,ct as D,d as j,dt as O,et as F,f as B,ft as N,g as R,gt as q,h as W,ht as Q,i as Z,it as H,j as K,k as J,l as G,lt as Y,m as X,mt as ee,n as te,nt as ae,o as se,ot as le,p as ne,pt as ie,q as re,r as oe,rt as ce,s as ue,st as de,t as me,tt as pe,u as fe,ut as ye,v as he,vt as ve,w as ge,wt as we,x as be,xt as _e,y as xe,yt as ke,z as Ie}from"./element-plus.CU6gAh9C.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ee={};const Ce=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),i=n?.nonce||n?.getAttribute("nonce");l=t.map(t=>{if((t=function(e){return"/"+e}(t))in Ee)return;Ee[t]=!0;const s=t.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(a)for(let a=e.length-1;a>=0;a--){const l=e[a];if(l.href===t&&(!s||"stylesheet"===l.rel))return}else if(document.querySelector(`link[href="${t}"]${l}`))return;const n=document.createElement("link");return n.rel=s?"stylesheet":"modulepreload",s||(n.as="script"),n.crossOrigin="",n.href=t,i&&n.setAttribute("nonce",i),document.head.appendChild(n),s?new Promise((e,a)=>{n.addEventListener("load",e),n.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${t}`)))}):void 0}),s=Promise.all(l.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var l;function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};var Te=class{static _read_uint24_be(e,t){return e.getUint8(t)<<16|e.getUint8(t+1)<<8|e.getUint8(t+2)}static _write_uint24_be(e,t,a){e.setUint8(t,a>>16&255),e.setUint8(t+1,a>>8&255),e.setUint8(t+2,255&a)}static async addMetadata(e,t){const a=new DataView(e);if(1716281667!==a.getUint32(0))throw new Error('Invalid FLAC file: "fLaC" marker not found.');const s=[];let l=4,n=-1;for(;l<a.byteLength;){const t=a.getUint8(l),i=!!(128&t),r=127&t,o=this._read_uint24_be(a,l+1),c=l+4+o;if(c>a.byteLength)throw new Error("Found corrupted metadata block.");if(s.push({type:r,data:new Uint8Array(e,l+4,o)}),i){n=c;break}l=c}if(-1===n)throw new Error("Could not find the end of the metadata section (last block flag not set).");const i=s.filter(e=>4!==e.type&&6!==e.type),r=this._createVorbisComment({TITLE:t.title||"",ARTIST:t.artist||"",ALBUM:t.album||"",DATE:t.year||"",LYRICS:t.lyrics||""});if(i.push({type:4,data:r}),t.cover){const e=await this._createPictureBlock(t.cover);i.push({type:6,data:e})}let o=i.reduce((e,t)=>e+4+t.data.byteLength,0);const c=new ArrayBuffer(o),u=new DataView(c),d=new Uint8Array(c);let m=0;for(let y=0;y<i.length;y++){const e=i[y],t=y===i.length-1;u.setUint8(m,e.type|(t?128:0)),this._write_uint24_be(u,m+1,e.data.byteLength),d.set(e.data,m+4),m+=4+e.data.byteLength}const p=new Uint8Array(e,n),f=new Uint8Array(4+o+p.byteLength);return f.set(new Uint8Array(e,0,4),0),f.set(d,4),f.set(p,4+o),new Blob([f],{type:"audio/flac"})}static _createVorbisComment(e){const t=(new TextEncoder).encode("MusicParser"),a=Object.entries(e).filter(([,e])=>e).map(([e,t])=>(new TextEncoder).encode(`${e}=${t}`));let s=4+t.length+4+a.reduce((e,t)=>e+4+t.length,0);const l=new ArrayBuffer(s),n=new DataView(l);let i=0;n.setUint32(i,t.length,!0),i+=4,new Uint8Array(l).set(t,i),i+=t.length,n.setUint32(i,a.length,!0),i+=4;for(const r of a)n.setUint32(i,r.length,!0),i+=4,new Uint8Array(l).set(r,i),i+=r.length;return new Uint8Array(l)}static async _createPictureBlock(e){const t=await e.arrayBuffer(),a=(new TextEncoder).encode(e.type||"image/jpeg"),s=(new TextEncoder).encode("Cover"),l=8+a.length+4+s.length+4+4+4+4+4+t.byteLength,n=new ArrayBuffer(l),i=new DataView(n);let r=0;return i.setUint32(r,3,!1),r+=4,i.setUint32(r,a.length,!1),r+=4,new Uint8Array(n).set(a,r),r+=a.length,i.setUint32(r,s.length,!1),r+=4,new Uint8Array(n).set(s,r),r+=s.length,i.setUint32(r,0,!1),r+=4,i.setUint32(r,0,!1),r+=4,i.setUint32(r,24,!1),r+=4,i.setUint32(r,0,!1),r+=4,i.setUint32(r,t.byteLength,!1),r+=4,new Uint8Array(n).set(new Uint8Array(t),r),new Uint8Array(n)}};async function Ue(e,t,a){let s,l="image/jpeg";if(t.cover)try{const e=await fetch(t.cover);if(!e.ok)throw new Error(`Failed to fetch cover image: ${e.statusText}`);l=e.headers.get("content-type")||l,s=await e.arrayBuffer()}catch{}if(".mp3"===a){const{ID3Writer:a}=await Ce(async()=>{const{ID3Writer:e}=await import("./browser-id3-writer.Cin1xRVc.js");return{ID3Writer:e}},__vite__mapDeps([0,1])),n=new a(e);return n.setFrame("TIT2",t.name).setFrame("TPE1",[t.artist]).setFrame("TALB",t.album).setFrame("TYER",t.year),t.lyrics&&n.setFrame("USLT",{description:"Lyrics",lyrics:t.lyrics}),s&&n.setFrame("APIC",{type:3,data:s,description:"Cover",mime:l}),n.addTag(),n.arrayBuffer}if(".flac"===a)try{const a={title:t.name,artist:t.artist,album:t.album,year:t.year,lyrics:t.lyrics};return s&&(a.cover=new Blob([s],{type:l})),await(await Te.addMetadata(e,a)).arrayBuffer()}catch{return e}return e}const $e={filenameFormat:"song-artist",writeMetadata:!1,zipDownload:!1,srtLyricsDownload:!1,layoutMode:"single-column",enableUrlCache:!1,urlCacheTTLMinutes:15},Ae=L({...$e}),Pe=()=>{try{localStorage.setItem("app-settings",JSON.stringify(Ae))}catch{}},Se=(e,t=!1)=>{(!Number.isFinite(e)||e<0)&&(e=0);const a=Math.floor(e/36e5),s=Math.floor(e%36e5/6e4),l=Math.floor(e%6e4/1e3),n=e%1e3,i=(e,t=2)=>String(e).padStart(t,"0");return t?`${i(a)}:${i(s)}:${i(l)}`:`${i(a)}:${i(s)}:${i(l)},${String(n).padStart(3,"0")}`},Me=(e,t={})=>{const{fallbackDurationMs:a=3e3,minDurationMs:s=500,maxDurationMs:l=5e3,windowsLineEndings:n=!0,omitMilliseconds:i=!0}=t,r=(e=>{if(!e||"string"!=typeof e)return[];const t=e.split(/\r?\n/);let a=0;for(const i of t){const e=i.trim().match(/^\[offset:\s*([+-]?\d+)\s*\]/i);if(e){const t=parseInt(e[1],10);Number.isFinite(t)&&(a=t);break}}const s=[],l=/\[(\d{1,2}):(\d{2})(?:[.:](\d{1,3}))?\]/g;for(const i of t){const e=i.trim();if(!e)continue;if(/^\[(ti|ar|al|by|offset):/i.test(e))continue;const t=[...e.matchAll(l)];if(0===t.length)continue;const n=e.replace(l,"").trim();if(n)for(const l of t){const e=parseInt(l[1],10)||0,t=parseInt(l[2],10)||0,i=l[3]||"0";let r=0;if(i){const e=i.padEnd(3,"0").slice(0,3);r=parseInt(e,10)||0}let o=6e4*e+1e3*t+r;o+=a,o<0&&(o=0),s.push({time:o,text:n})}}s.sort((e,t)=>e.time-t.time);const n=[];for(const i of s)n.length&&n[n.length-1].time===i.time?n[n.length-1]=i:n.push(i);return n})(e);if(!r.length)return"";const o=[];for(let u=0;u<r.length;u++){const e=r[u].time;let t;if(u<r.length-1){const a=r[u+1].time;t=Math.max(a,e+1),t=Math.min(t,e+l)}else t=Math.min(e+a,e+l);(!Number.isFinite(t)||t<=e)&&(t=e+Math.max(s,a)),o.push(String(u+1)),o.push(`${Se(e,i)} --\x3e ${Se(t,i)}`),o.push(r[u].text),o.push("")}let c=o.join("\n").trim();return n&&(c=c.replace(/\n/g,"\r\n")),c+(n?"\r\n":"\n")};var ze=_e(!1);const Le=e=>{if("undefined"!=typeof document){const t=document.body;t.classList.add("theme-switching"),setTimeout(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},50),setTimeout(()=>{t.classList.remove("theme-switching")},600)}};function Ve(e,t){if(!e)return;const a=Oe(t||"download");try{if("undefined"!=typeof window&&window.navigator&&"function"==typeof window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(e,a)}catch{}const s=/iP(ad|hone|od)/.test(navigator.userAgent)||/Macintosh/.test(navigator.platform)&&"ontouchend"in document,l="download"in HTMLAnchorElement.prototype;if(s&&!l)try{const t=new FileReader;return t.onload=()=>{const e=t.result,s=document.createElement("a");s.href=e,s.download=a,s.rel="noopener",s.target="_blank",s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},void t.readAsDataURL(e)}catch{}const n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=a,i.rel="noopener",i.target="_self",i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(()=>{try{URL.revokeObjectURL(n)}catch{}},2e3)}function De(e,t){if(!e)return e;const a=e.type||"";return a&&a===t?e:!a&&t?new Blob([e],{type:t}):e}function je(e){switch((e||"").toLowerCase()){case".mp3":return"audio/mpeg";case".flac":return"audio/flac";case".m4a":case".mp4":return"audio/mp4";case".eac3":case".ec3":return"audio/eac3";case".lrc":return"text/plain";case".srt":return"application/x-subrip";case".zip":return"application/zip";case".jpg":case".jpeg":return"image/jpeg";case".png":return"image/png";default:return"application/octet-stream"}}function Oe(e){return String(e).replace(/[\\/:*?"<>|]/g,"-").replace(/[\r\n]/g," ").trim().slice(0,180)}var Fe=["https://wyapi.toubiec.cn","https://wyapi-2.toubiec.cn","https://wyapi-1.toubiec.cn"],Be=()=>Fe,Ne=null,Re=0,qe=async(e,t=2500)=>{try{const a=new AbortController,s=setTimeout(()=>a.abort(),t);return await fetch(e,{method:"HEAD",mode:"no-cors",signal:a.signal}),clearTimeout(s),!0}catch{return!1}},We=e=>{const t=String(e).replace(/^\/+/,"");return`${Ne||"https://wyapi-1.toubiec.cn"}/${t}`},Qe=async(e,t=null)=>{const a=((e=null)=>{const t={method:"POST",headers:{"Content-Type":"application/json"}};return e&&(t.body=JSON.stringify(e)),t})(t);try{(async()=>{if(Ne&&Date.now()-Re<3e5)return Ne;for(const e of Be())if(await qe(e))return Ne=e,Re=Date.now(),Ne;return Ne="https://wyapi-1.toubiec.cn",Re=Date.now(),Ne})().catch(()=>{});const t=await fetch(e,a);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return{data:await t.json()}}catch(s){try{const t=/^https?:\/\//i.test(e)?String(new URL(e).pathname).replace(/^\/+/,""):String(e).replace(/^\/+/,""),s=Be();for(const l of s){const s=`${l}/${t}`;if(s!==e)try{const e=await fetch(s,a);if(e.ok){const t=await e.json();return Ne=l,Re=Date.now(),{data:t}}}catch{}}}catch{}throw s}};const Ze=async e=>{try{if(!e)return null;"string"!=typeof e&&(e=String(e));const t=(e=>{if(!e)return e;"string"!=typeof e&&(e=String(e));const t=e.match(/(https?:\/\/[^\s"<>]+)/);return t?t[0]:e})(e);if(!t)return null;if(/https?:\/\/163cn\.tv\/([a-zA-Z0-9]+)/.test(t))return t;const a=[/https?:\/\/music\.163\.com\/song\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/song\/(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/song\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/song\?id=(\d+)/],s=[/https?:\/\/music\.163\.com\/playlist\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/playlist\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/playlist\/(\d+)/,/https?:\/\/music\.163\.com\/#\/playlist\?id=(\d+)/,/https?:\/\/music\.163\.com\/discover\/toplist\?id=(\d+)/],l=[/https?:\/\/music\.163\.com\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/album\/(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/album\/(\d+)/];for(const e of[...a,...s,...l]){const a=t.match(e);if(a)return a[1]}return null}catch{return null}},He=Ze,Ke=Ze,Je=Ze,Ge={jymaster:"超清母带(Master)",dolby:"杜比全景声(Dolby Atmos)",sky:"沉浸环绕声(Surround Audio)",jyeffect:"高清臻音(Spatial Audio)",hires:"高清晰度无损(Hi-Res)",lossless:"无损(SQ)",exhigh:"极高(HQ)",standard:"标准(128k)"};var Ye=new Map,Xe=(e,t)=>`${e}|${t}`;const et=async(e,t="lossless",a={})=>{const{bypassCache:s=!1,updateCache:l=!0}=a;if(Ae?.enableUrlCache&&!s){const a=((e,t)=>{try{const a=Xe(e,t),s=Ye.get(a);if(!s)return null;const l=60*(Number(Ae?.urlCacheTTLMinutes)||15)*1e3;return Date.now()-s.fetchedAt>l?(Ye.delete(a),null):s.data}catch{return null}})(e,t);if(a&&a.url)return a}const n=await Qe(We("api/music/url"),{id:e,level:t});if(200!==n.data.code)throw new Error(n.data.msg||"获取音乐链接失败");const i=n.data.data[0];if(!i||0===i.length)throw new Error("该音质的音乐链接不可用");return Ae?.enableUrlCache&&l&&((e,t,a)=>{Ye.set(Xe(e,t),{data:a,fetchedAt:Date.now()})})(e,t,i),i},tt=async e=>{try{if("string"!=typeof e){if(null==e)throw new Error("歌曲ID不能为空");e=String(e)}const t=await Qe(We("api/music/lyric"),{id:e});if(200!==t.data.code)throw new Error(t.data.msg||"获取歌词失败");const a=t.data.data;return{lrc:a.lrc||"",tlyric:a.tlyric||"",romalrc:a.romalrc||"",klyric:a.klyric||""}}catch{return{lrc:"",tlyric:"",romalrc:"",klyric:""}}};var at={validateUrl:e=>{try{return!(!e||"string"!=typeof e)&&[/https?:\/\/music\.163\.com\/song\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/song\/(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/song\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/song\?id=(\d+)/,/https?:\/\/music\.163\.com\/playlist\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/playlist\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/playlist\/(\d+)/,/https?:\/\/music\.163\.com\/#\/playlist\?id=(\d+)/,/https?:\/\/music\.163\.com\/discover\/toplist\?id=(\d+)/,/https?:\/\/music\.163\.com\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/album\/(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/album\/(\d+)/,/https?:\/\/163cn\.tv\/([a-zA-Z0-9]+)/].some(t=>t.test(e))}catch{return!1}},validateMusicUrl:e=>{try{return[/https?:\/\/music\.163\.com\/song\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/song\/(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/song\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/song\?id=(\d+)/,/https?:\/\/163cn\.tv\/([a-zA-Z0-9]+)/].some(t=>t.test(e))}catch{return!1}},validatePlaylistUrl:e=>{try{return[/https?:\/\/music\.163\.com\/playlist\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/playlist\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/playlist\/(\d+)/,/https?:\/\/music\.163\.com\/#\/playlist\?id=(\d+)/,/https?:\/\/163cn\.tv\/([a-zA-Z0-9]+)/].some(t=>t.test(e))}catch{return!1}},validateAlbumUrl:e=>{try{return[/https?:\/\/music\.163\.com\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/album\/(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/album\?id=(\d+)/,/https?:\/\/y\.music\.163\.com\/m\/album\/(\d+)/,/https?:\/\/music\.163\.com\/#\/album\?id=(\d+)/,/https?:\/\/music\.163\.com\/#\/album\/(\d+)/,/https?:\/\/163cn\.tv\/([a-zA-Z0-9]+)/].some(t=>t.test(e))}catch{return!1}},extractIdFromUrl:Ze,getMusicIdFromUrl:He,extractPlaylistId:Ke,extractAlbumId:Je,parseMusicInfo:async(e,t="lossless")=>{try{const a=await Ze(e);if(!a)throw new Error("无法从链接中提取歌曲ID");const s=await Qe(We("api/music/detail"),{id:a});if(200!==s.data.code)throw new Error(s.data.msg||"获取歌曲信息失败");const l=s.data.data,n=l.duration.split(":"),i=1e3*(60*parseInt(n[0])+parseInt(n[1]));let r=null,o="standard",c=0,u=0,d="mp3";try{const e=await et(l.id,t);if(!e||!e.url)throw new Error("该歌曲已下架或者无法获取");{r=e.url,o=e.level||t,c=e.size||0,u=e.br||0;const a=["lossless","hires","jymaster","sky","jyeffect"],s=e.level||"standard";if(e.type)d=e.type.toLowerCase();else{const e=r.match(/\.([a-zA-Z0-9]+)(?=\?|$)/);d=e&&e[1]?e[1].toLowerCase():a.includes(s)?"flac":"mp3"}}}catch{throw new Error("该歌曲已下架或者无法获取")}const m={id:l.id.toString(),name:l.name,artist:l.singer,album:l.album,cover:l.picimg,duration:i,url:r,quality:o,qualityName:Ge[o]||o,fileSize:c,bitRate:u,lrc:"",fileExtension:`.${d.toLowerCase()}`};try{const e=await tt(l.id);e&&e.lrc&&(m.lrc=e.lrc,m.tlyric=e.tlyric||"",m.romalrc=e.romalrc||"",m.klyric=e.klyric||"")}catch{}return m}catch(a){if(a.response){const e=a.response.status,t=a.response.data;if(404===e)throw new Error("歌曲不存在或已被删除");if(e>=500)throw new Error("服务器暂时不可用，请稍后重试");if(t&&t.msg)throw new Error(t.msg)}else if(a.request)throw new Error("网络连接失败，请检查网络连接");throw new Error(a.message||"解析失败，请检查链接是否正确或稍后重试")}},getLyrics:tt,downloadMusic:async(e,t={})=>{const{filenameFormat:a="song-artist",writeMetadata:s=!1}=t,l=e.fileExtension||".mp3";let n;n="artist-song"===a?`${e.artist} - ${e.name}${l}`:`${e.name} - ${e.artist}${l}`;try{const t=await fetch(e.url,{cache:"no-store",mode:"cors"});if(!t.ok)throw new Error(`下载音频文件失败: ${t.statusText}`);let a=await t.arrayBuffer();if(s&&(".mp3"===l||".flac"===l))try{const t={name:e.name,artist:e.artist,album:e.album,year:(new Date).getFullYear().toString(),lyrics:e.lrc,cover:e.cover};a=await Ue(a,t,l)}catch{}const i=t.headers.get("Content-Type")||je(l);return Ve(De(new Blob([a],{type:i}),i),Oe(n)),!0}catch(i){throw new Error(`下载失败: ${i.message}`)}},getPlaylistDetail:async e=>{try{const t=await Ze(e);if(!t)throw new Error("无法从链接中提取歌单ID");const a=String(e).match(/[?&]p=(\d+)/),s=a?{id:t,page:parseInt(a[1],10)}:{id:t},l=await Qe(We("api/music/playlist"),s);return l.data&&200===l.data.code?{success:!0,data:l.data.data}:{success:!1,error:l.data?.msg||"获取歌单信息失败"}}catch(t){return t.message&&t.message.includes("ERR_HTTP2_PROTOCOL_ERROR")?{success:!1,error:"API服务器暂时不可用，请稍后重试。这可能是由于服务器维护或网络问题导致的。"}:"ENOTFOUND"===t.code||"ECONNREFUSED"===t.code?{success:!1,error:"API服务器无法连接，请检查网络连接或稍后重试"}:{success:!1,error:`网络请求失败: ${t.message||"未知错误"}，请稍后重试`}}},getAlbumDetail:async e=>{try{const t=await Ze(e);if(!t)throw new Error("无法从链接中提取专辑ID");const a={id:t},s=await Qe(We("api/music/album"),a);return s.data&&200===s.data.code?{success:!0,data:s.data.data}:{success:!1,error:s.data?.msg||"获取专辑信息失败"}}catch(t){return{success:!1,error:`网络请求失败: ${t.message||"未知错误"}，请稍后重试`}}},getMusicInfo:async e=>{try{const t=We("api/getMusicInfo"),a=await Qe(t,{id:e});return a.data&&200===a.data.code?{success:!0,data:a.data.data}:{success:!1,error:a.data?.msg||"获取歌曲信息失败"}}catch{return{success:!1,error:"网络请求失败"}}},searchMusic:async e=>{try{const t=await Qe("netease/search",{keywords:e,limit:20});return t.data&&t.data.result&&t.data.result.songs?{success:!0,data:{songs:t.data.result.songs.map(e=>({id:e.id,name:e.name,artists:e.artists||[],album:e.album||{},duration:e.duration||0}))}}:{success:!1,error:"搜索结果为空"}}catch(t){return{success:!1,error:t.message||"搜索失败"}}}},st=(e,t)=>{const a=e.__vccOpts||e;for(const[s,l]of t)a[s]=l;return a},lt={class:"info-container"},nt={class:"song-title"},it={class:"artist-name"},rt={class:"metadata-grid"},ot={class:"meta-value"},ct={class:"meta-value"},ut={class:"meta-value"},dt={class:"meta-value"},mt={class:"direct-link-section"},pt={class:"action-section"},ft={class:"btn-text"},yt={key:0,class:"progress-container"},ht={class:"progress-info"},vt={class:"progress-text"},gt={class:"progress-percentage"},wt=st({__name:"MusicPlayer",props:{musicInfo:{type:Object,required:!0}},setup(t){const a=t,s=_e(null),l=_e(!1),n=_e(0),i=_e(""),r=_e("准备下载"),o=ae(()=>"undefined"!=typeof window&&window.innerWidth<=768),c=(e,t,a)=>{const s=e.replace(/[<>:"/\\|?*]/g,"_"),l=t.replace(/[<>:"/\\|?*]/g,"_"),n=Ae.filenameFormat||"song-artist";return"artist-song"===n?`${l} - ${s}${a}`:"song-only"===n?`${s}${a}`:`${s} - ${l}${a}`},u=e=>{const t=e.split("\n"),a=[];return t.forEach((e,t)=>{const s=e.match(/\[(\d{2}):(\d{2}[.:]?\d*)\]/);if(s){const l=6e4*parseInt(s[1],10)+1e3*(parseFloat(s[2].replace(".",":"))||0);let n=e.replace(/\[\d{2}:\d{2}[.:]?\d*\]/g,"").trim();n=n.replace(/\s\s+/g," "),a.push([l,t,n])}}),a.sort((e,t)=>e[0]-t[0]),a},d=(e,t)=>e?t?((e,t)=>{const a=u(e),s=u(t),l=a.length,n=s.length;let i="";for(let r=0,o=0;r<l&&o<n;r++){for(;a[r][0]>s[o][0]&&o+1<n;)o++;a[r][0]===s[o][0]&&(s[o][2]=s[o][2].replace("/",""),s[o][2]&&(a[r][2]+=` (翻译：${s[o][2]})`),o++)}for(let r=0;r<l;r++){const e=a[r][0];i+=`[${String(Math.floor(e/6e4)).padStart(2,"0")}:${String(Math.floor(e%6e4/1e3)).padStart(2,"0")}.${String(e%1e3).padStart(3,"0")}]${a[r][2]}\n`}return i})(e,t):e:"",m=async()=>{if(a.musicInfo?.url){if(l.value=!0,n.value=0,i.value="",Ae.zipDownload){r.value="准备打包";try{const{default:t}=await Ce(async()=>{const{default:t}=await import("./jszip.min.rkY0D0ad.js").then(e());return{default:t}},__vite__mapDeps([2,3,4])),s=new t;r.value="下载音频文件",n.value=10;let l=a.musicInfo.url,o=await fetch(l);if(!o.ok)try{const e=await at.getMusicUrl(a.musicInfo.id,a.musicInfo.quality||"lossless",{bypassCache:!0});e&&e.url&&(l=e.url,o=await fetch(l))}catch{}if(!o.ok)throw new Error(`音频下载失败: ${o.statusText}`);const u=await o.arrayBuffer();n.value=30;const m=(o.headers.get("Content-Type")||"").toLowerCase();let f=".mp3";if(m.includes("flac"))f=".flac";else if(m.includes("mp4"))f=".m4a";else if(m.includes("eac3")||m.includes("ec3"))f=".eac3";else try{const e=new URL(l).pathname.toLowerCase();e.endsWith(".flac")?f=".flac":e.endsWith(".m4a")||e.endsWith(".mp4")?f=".m4a":(e.endsWith(".eac3")||e.endsWith(".ec3"))&&(f=".eac3")}catch{}r.value="处理元数据",n.value=40;const h={name:a.musicInfo.name||"未知歌曲",artist:a.musicInfo.artist||"未知艺术家",album:a.musicInfo.album||"未知专辑",year:a.musicInfo.year||"",lyrics:d(a.musicInfo.lrc||"",a.musicInfo.tlyric||""),cover:a.musicInfo.cover||null};let v;if(!Ae.writeMetadata||".mp3"!==f&&".flac"!==f)v=u;else{r.value="写入元数据";try{v=await Ue(u,h,f)}catch{v=u}}n.value=50;const g=c(a.musicInfo.name,a.musicInfo.artist,f);if(s.file(g,v),r.value="添加音频文件",n.value=60,a.musicInfo.cover)try{r.value="下载封面图片";const e=await fetch(a.musicInfo.cover);if(e.ok){const t=await e.arrayBuffer(),l=e.headers.get("content-type")?.includes("png")?".png":".jpg",n=c(a.musicInfo.name,a.musicInfo.artist,l);s.file(n,t)}}catch{}if(n.value=70,a.musicInfo.lrc){const e=d(a.musicInfo.lrc,a.musicInfo.tlyric);if(Ae.srtLyricsDownload){r.value="添加SRT歌词";try{const t=Me(e);if(t){const e=c(a.musicInfo.name,a.musicInfo.artist,".srt");s.file(e,t)}}catch{const t=c(a.musicInfo.name,a.musicInfo.artist,".lrc");s.file(t,e)}}else{r.value="添加LRC歌词";const t=c(a.musicInfo.name,a.musicInfo.artist,".lrc");s.file(t,e)}}n.value=80,r.value="生成信息文件";const w=`歌曲信息\n==================\n歌名: ${a.musicInfo.name}\n艺术家: ${a.musicInfo.artist}\n专辑: ${a.musicInfo.album}\n时长: ${p(a.musicInfo.duration)}\n音质: ${a.musicInfo.qualityName}\n大小: ${y(a.musicInfo.fileSize)}\n下载时间: ${(new Date).toLocaleString("zh-CN")}\n==================\n`;s.file("歌曲信息.txt",w),n.value=85,r.value="生成ZIP文件";const b=await s.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}},e=>{const t=85+.1*e.percent;n.value=Math.round(t)});n.value=95,r.value="准备下载";const _=De(b,je(".zip"));Ve(_,Oe(c(a.musicInfo.name,a.musicInfo.artist,".zip"))),r.value="下载完成",i.value="success",n.value=100,me({title:"下载成功",message:`成功下载音乐包：${a.musicInfo.name}（包含音频、封面、歌词、信息文件）`,type:"success",duration:5e3})}catch(t){r.value="下载失败",i.value="exception",te.error(`下载失败：${t.message}`)}}else{r.value="准备下载";try{n.value=10,r.value="下载音频文件";let e=a.musicInfo.url,t=await fetch(e);if(!t.ok)try{const s=await at.getMusicUrl(a.musicInfo.id,a.musicInfo.quality||"lossless",{bypassCache:!0});s&&s.url&&(e=s.url,t=await fetch(e))}catch{}if(!t.ok)throw new Error(`音频下载失败: ${t.statusText}`);const s=await t.arrayBuffer();n.value=50;const l=(t.headers.get("Content-Type")||"").toLowerCase();let o,u=".mp3";if(l.includes("flac"))u=".flac";else if(l.includes("mp4"))u=".m4a";else if(l.includes("eac3")||l.includes("ec3"))u=".eac3";else try{const t=new URL(e).pathname.toLowerCase();t.endsWith(".flac")?u=".flac":t.endsWith(".m4a")||t.endsWith(".mp4")?u=".m4a":(t.endsWith(".eac3")||t.endsWith(".ec3"))&&(u=".eac3")}catch{}if(r.value="处理元数据",n.value=70,!Ae.writeMetadata||".mp3"!==u&&".flac"!==u)o=s;else{const e={name:a.musicInfo.name||"未知歌曲",artist:a.musicInfo.artist||"未知艺术家",album:a.musicInfo.album||"未知专辑",year:a.musicInfo.year||"",lyrics:d(a.musicInfo.lrc,a.musicInfo.tlyric),cover:a.musicInfo.cover||null};try{o=await Ue(s,e,u)}catch{o=s}}n.value=90,r.value="准备下载";const m=t.headers.get("Content-Type")||je(u),p=new Blob([o],{type:m});Ve(p,Oe(c(a.musicInfo.name,a.musicInfo.artist,u))),r.value="下载完成",i.value="success",n.value=100,me({title:"下载成功",message:`成功下载音频文件：${a.musicInfo.name}`,type:"success",duration:3e3})}catch(t){r.value="下载失败",i.value="exception",te.error(`下载失败：${t.message}`)}}setTimeout(()=>{l.value=!1},2e3)}},p=e=>{if(!e)return"00:00";const t=Math.floor(e/1e3),a=Math.floor(t/60),s=t%60;return`${String(a).padStart(2,"0")}:${String(s).padStart(2,"0")}`},y=e=>{if(!e)return"未知";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["B","KB","MB","GB"][t]};return q(()=>a.musicInfo,e=>{e&&e.url&&(s.value&&s.value.destroy(),Y(()=>{"undefined"!=typeof window&&void 0!==window.APlayer&&(s.value=new window.APlayer({container:document.getElementById("aplayer-container"),theme:ze.value?"#90caf9":"#409EFF",audio:[{name:e.name,artist:e.artist,url:e.url,cover:e.cover,lrc:d(e.lrc,e.tlyric)}],lrcType:1}))}))},{deep:!0,immediate:!0}),(e,a)=>{const s=ee("el-icon"),c=ee("el-input"),u=ee("el-button"),d=ee("el-progress"),v=ee("el-card");return N(),H(v,{class:"result-card",shadow:"hover"},{default:P(()=>[ce("div",lt,[ce("h2",nt,we(t.musicInfo.name),1),ce("p",it,we(t.musicInfo.artist),1),ce("div",rt,[a[0]||(a[0]=ce("span",{class:"meta-label"},"专辑",-1)),ce("span",ot,we(t.musicInfo.album),1),a[1]||(a[1]=ce("span",{class:"meta-label"},"时长",-1)),ce("span",ct,we(p(t.musicInfo.duration)),1),a[2]||(a[2]=ce("span",{class:"meta-label"},"音质",-1)),ce("span",ut,we(t.musicInfo.qualityName),1),a[3]||(a[3]=ce("span",{class:"meta-label"},"大小",-1)),ce("span",dt,we(y(t.musicInfo.fileSize)),1)])]),a[4]||(a[4]=ce("div",{id:"aplayer-container",class:"aplayer-instance"},null,-1)),ce("div",mt,[D(c,{"model-value":t.musicInfo.url,readonly:"",size:o.value?"small":void 0},{prepend:P(()=>[D(s,null,{default:P(()=>[D(x(f))]),_:1})]),_:1},8,["model-value","size"])]),ce("div",pt,[D(u,{type:"primary",onClick:m,loading:l.value,disabled:!t.musicInfo.id,class:"download-btn",size:o.value?"default":"large"},{default:P(()=>[D(s,null,{default:P(()=>[D(x(h))]),_:1}),ce("span",ft,we(l.value?r.value:"下载音乐包"),1)]),_:1},8,["loading","disabled","size"])]),l.value?(N(),le("div",yt,[ce("div",ht,[ce("span",vt,we(r.value),1),ce("span",gt,we(n.value)+"%",1)]),D(d,{percentage:n.value,status:i.value,"stroke-width":8,"show-text":!1,style:{width:"100%"}},null,8,["percentage","status"])])):M("",!0)]),_:1})}}},[["__scopeId","data-v-fe18e5ea"]]),bt={class:"playlist-detail"},_t={key:0,class:"tracks-section"},xt={class:"section-header"},kt={class:"header-left"},It={class:"track-total"},Et={class:"playlist-info-bar"},Ct={class:"info-item"},Tt={class:"info-item"},Ut={class:"tracks-list"},$t=["onClick"],At=["src"],Pt={class:"track-info"},St={class:"track-title-line"},Mt={class:"track-name"},zt={key:0,class:"track-artist"},Lt={class:"track-actions"},Vt={class:"pagination-section"},Dt={class:"page-info"},jt={key:1,class:"loading-container"},Ot={key:2,class:"error-container"};var Ft=st({name:"PlaylistDetail",components:{ElButton:v,ElIcon:m,Loading:Ie},props:{playlistInfo:{type:Object,required:!0},displayTracks:{type:Array,default:()=>[]},currentPage:{type:Number,default:1},pageSize:{type:Number,default:20},totalTracks:{type:Number,default:0},selectedQuality:{type:String,default:"lossless"},settings:{type:Object,default:()=>({})}},emits:["track-selected","track-parsed","page-change"],setup(e,{emit:t}){const a=ae(()=>e.playlistInfo),s=ae(()=>e.playlistInfo?.isAlbum?"作者":"创建者"),l=_e(!1),n=_e(""),i=_e(null),r=_e(null),o=e=>{t("page-change",e)},c=ae(()=>{const t=Number(e.pageSize)||1,a=Number(e.totalTracks)||0;return Math.max(1,Math.ceil(a/t))});return{playlistData:a,creatorLabel:s,loading:l,error:n,selectedTrack:i,parsingTrackId:r,selectTrack:e=>{i.value=e,t("track-selected",e)},parseTrack:async a=>{r.value=a.id;try{const s="string"==typeof e.selectedQuality?e.selectedQuality:"lossless";t("track-parsed",{track:a,quality:s}),te.success(`开始解析：${a.name}`)}catch{te.error("解析失败，请重试")}finally{r.value=null}},handlePageChange:o,formatPlayCount:e=>e>=1e8?Math.floor(e/1e8)+"亿":e>=1e4?Math.floor(e/1e4)+"万":e.toString(),getCover:e=>e?.picUrl||e?.cover||e?.al?.picUrl||e?.album?.picUrl||a.value?.picUrl||"",onCoverError:e=>{e.target.style.visibility="hidden"},getArtist:e=>e?.artist||e?.singer||("string"==typeof e?.artists?e.artists:null)||Array.isArray(e?.artists)&&e.artists[0]?.name||Array.isArray(e?.ar)&&e.ar[0]?.name||"",totalPages:c,goPrevPage:()=>{e.currentPage>1&&o(e.currentPage-1)},goNextPage:()=>{e.currentPage<c.value&&o(e.currentPage+1)}}}},[["render",function(e,a,s,l,i,r){const o=ee("el-button"),c=ee("Loading"),u=ee("el-icon"),d=ee("el-alert");return N(),le("div",bt,[l.playlistData&&s.totalTracks>0?(N(),le("div",_t,[ce("div",xt,[ce("div",kt,[a[1]||(a[1]=ce("h2",null,"歌曲列表",-1)),ce("span",It,"共 "+we(s.totalTracks)+" 首 (第 "+we(s.currentPage)+" 页，每页 "+we(s.pageSize)+" 首)",1)]),a[2]||(a[2]=ce("div",{class:"header-right"},null,-1))]),ce("div",Et,[ce("span",Ct,we(l.creatorLabel)+"："+we(l.playlistData.creator),1),a[3]||(a[3]=ce("span",{class:"info-separator"},"•",-1)),ce("span",Tt,"歌曲数："+we(s.totalTracks),1)]),ce("div",Ut,[(N(!0),le(t,null,ie(s.displayTracks,e=>(N(),le("div",{key:e.id,class:n(["track-item",{selected:l.selectedTrack&&l.selectedTrack.id===e.id}]),onClick:t=>l.selectTrack(e)},[ce("img",{class:"track-cover",src:l.getCover(e),alt:"cover",loading:"lazy",onError:a[0]||(a[0]=(...e)=>l.onCoverError&&l.onCoverError(...e))},null,40,At),ce("div",Pt,[ce("div",St,[ce("span",Mt,we(e.name),1),l.getArtist(e)?(N(),le("span",zt,we(l.getArtist(e)),1)):M("",!0)])]),ce("div",Lt,[D(o,{type:"primary",size:"small",onClick:w(t=>l.parseTrack(e),["stop"]),loading:l.parsingTrackId===e.id},{default:P(()=>[de(we(l.parsingTrackId===e.id?"解析中...":"解析"),1)]),_:2},1032,["onClick","loading"])])],10,$t))),128))]),ce("div",Vt,[D(o,{size:"small",onClick:l.goPrevPage,disabled:s.currentPage<=1},{default:P(()=>[...a[4]||(a[4]=[de("上一页",-1)])]),_:1},8,["onClick","disabled"]),ce("span",Dt,"第 "+we(s.currentPage)+" 页 / 共 "+we(l.totalPages)+" 页",1),D(o,{size:"small",type:"primary",onClick:l.goNextPage,disabled:s.currentPage>=l.totalPages},{default:P(()=>[...a[5]||(a[5]=[de("下一页",-1)])]),_:1},8,["onClick","disabled"])])])):M("",!0),l.loading?(N(),le("div",jt,[D(u,{class:"is-loading"},{default:P(()=>[D(c)]),_:1}),a[6]||(a[6]=ce("span",null,"正在加载歌单信息...",-1))])):M("",!0),l.error?(N(),le("div",Ot,[D(d,{title:l.error,type:"error","show-icon":"",closable:!1},null,8,["title"])])):M("",!0)])}],["__scopeId","data-v-d3cb30b3"]]);const Bt=_e(1),Nt=_e(20),Rt=_e(0),qt=_e([]),Wt=_e([]),Qt=()=>{const e=(Bt.value-1)*Nt.value,t=e+Nt.value;Wt.value=qt.value.slice(e,t)},Zt=e=>{Bt.value=e,Qt()};var Ht=()=>"API_V2"===Ae?.apiVersion?"接口2":"接口1";const Kt=_e(""),Jt=_e(!1),Gt=_e(null),Yt=_e(""),Xt=_e(!1),ea=_e(null),ta=_e(""),aa=_e(!1),sa=_e(null),la=_e(0),na=_e(0);var ia=null,ra=()=>{la.value=Date.now(),na.value=0,ia=setInterval(()=>{na.value=Math.floor((Date.now()-la.value)/1e3)},100)},oa=()=>{ia&&(clearInterval(ia),ia=null)};const ca=async e=>{if(Kt.value.trim())if(at.validateMusicUrl(Kt.value)){Jt.value=!0;try{const t=await at.parseMusicInfo(Kt.value,e);Gt.value=t;const a=()=>"API_V2"===Ae?.apiVersion?"接口2":"接口1";me({title:"解析成功",message:`成功解析歌曲：${t.name} (${t.qualityName}) ${a()}`,type:"success"})}catch(t){let e="解析失败，请检查链接是否正确";t.message&&t.message.includes("API服务器暂时不可用")?(e="API服务器暂时不可用，请稍后重试。这可能是由于服务器维护或网络问题导致的。",te({message:e,type:"warning",duration:8e3,showClose:!0})):t.message&&(t.message.includes("付费")||t.message.includes("版权限制"))?(e="该歌曲为付费或受版权限制，暂无法获取播放链接",te({message:e,type:"error",duration:6e3,showClose:!0})):t.message&&(t.message.includes("下架")||t.message.includes("无法获取"))?(e="该歌曲已下架或者无法获取",te({message:e,type:"error",duration:6e3,showClose:!0})):t.message&&t.message.includes("网络连接失败")?(e=t.message,te({message:e,type:"error",duration:6e3,showClose:!0})):te.error(t.message||e)}finally{Jt.value=!1}}else te.error("请输入有效的网易云音乐链接");else te.warning("请输入音乐链接")},ua=_e(null),da=_e({currentIndex:0,totalTracks:0,successfulTracks:[]}),ma=async e=>{if(Yt.value.trim())if(at.validatePlaylistUrl(Yt.value)){ra(),Xt.value=!0,ua.value=null,da.value={currentIndex:0,totalTracks:0,successfulTracks:[]};try{const t=await at.getPlaylistDetail(Yt.value);if(!t.success)throw new Error(t.error);{ea.value=t.data,qt.value=(t.data.tracks||[]).map(e=>({...e,parsed:!1})),Rt.value=qt.value.length,Bt.value=1,e&&e();const a=Math.floor((Date.now()-la.value)/1e3);me({title:"歌单解析完成！",message:`共 ${Rt.value} 首歌曲，用时 ${a} 秒 ${Ht()}`,type:"success",duration:5e3})}}catch(t){let e="歌单解析失败，请检查链接是否正确";t.message&&t.message.includes("API服务器暂时不可用")?(e="API服务器暂时不可用，请稍后重试。这可能是由于服务器维护或网络问题导致的。",te({message:e,type:"warning",duration:8e3,showClose:!0})):t.message&&t.message.includes("网络请求失败")?(e=t.message,te({message:e,type:"error",duration:6e3,showClose:!0})):te.error(t.message||e)}finally{oa(),Xt.value=!1,ua.value=null}}else te.error("请输入有效的网易云音乐歌单链接");else te.warning("请输入歌单链接")},pa=async e=>{if(ta.value.trim())if(at.validateAlbumUrl(ta.value)){aa.value=!0,ra();try{const t=await at.getAlbumDetail(ta.value);if(!t.success)throw new Error(t.error);sa.value=t.data,qt.value=t.data.tracks.map(e=>({...e,parsed:!1})),Rt.value=qt.value.length,Bt.value=1,e&&e(),me({title:"专辑解析成功！",message:`成功解析专辑：${t.data.name} ${Ht()}`,type:"success"})}catch(t){te.error(t.message||"专辑解析失败，请检查链接是否正确")}finally{oa(),aa.value=!1}}else te.error("请输入有效的网易云音乐专辑链接");else te.warning("请输入专辑链接")},fa=()=>{Gt.value=null,Kt.value=""},ya=()=>{ea.value=null,Yt.value="",qt.value=[],Wt.value=[],Rt.value=0,Bt.value=1},ha=()=>{sa.value=null,ta.value="",qt.value=[],Wt.value=[],Rt.value=0,Bt.value=1},va=(e,t)=>{"playlist"===t?Yt.value=e:"album"===t?ta.value=e:Kt.value=e},ga=_e(!1),wa=()=>{if("undefined"!=typeof window){const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t}return!1},ba=()=>{ga.value=wa()},_a=[{url:"https://music.163.com/song?id=1454730043",name:"赤伶",artist:"李玉刚"},{url:"https://music.163.com/song?id=1335942780",name:"九万字",artist:"黄诗扶"},{url:"https://music.163.com/song?id=110191",name:"暗里着迷",artist:"刘德华"}],xa=[{url:"https://music.163.com/playlist?id=7358627467",name:"华语经典流行",creator:"网易云音乐"},{url:"https://music.163.com/playlist?id=2884035",name:"那些回不去的年少时光",creator:"网易云音乐"},{url:"https://music.163.com/playlist?id=19723756",name:"云音乐飙升榜",creator:"网易云音乐"}],ka=[{url:"https://music.163.com/#/album?id=10804",name:"第二天堂",artist:"林俊杰"},{url:"https://music.163.com/#/album?id=3056951",name:"新地球 - 人 (Special Edition)",artist:"林俊杰"},{url:"https://music.163.com/#/album?id=74956171",name:"进阶",artist:"林俊杰"}],Ia=e=>(e=>"playlist"===e?xa:"album"===e?ka:_a)(e);var Ea={class:"header-content"},Ca={class:"header-left"},Ta={class:"logo"},Ua={class:"header-view-title"},$a={class:"header-right"},Aa={class:"card-header"},Pa={class:"view-buttons"},Sa={class:"view-container"},Ma={class:"card-header"},za={class:"form-items-row"},La={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Va={class:"view-container"},Da={class:"card-header"},ja={class:"form-items-row"},Oa={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Fa={class:"view-container"},Ba={class:"card-header"},Na={class:"form-items-row"},Ra={style:{display:"flex","align-items":"center","justify-content":"space-between"}},qa={key:0,class:"playlist-section"},Wa={key:1,class:"player-section"},Qa={class:"loading-placeholder"},Za={key:2,class:"side-cards-inline"},Ha={class:"help-section"},Ka={class:"card-header"},Ja={class:"examples-section"},Ga={class:"section-title"},Ya={class:"example-list"},Xa=["onClick"],es={class:"example-info"},ts={class:"example-name"},as={class:"example-artist"},ss={class:"formats-section"},ls={key:0,class:"format-list"},ns={key:1,class:"format-list"},is={key:2,class:"format-list"},rs={class:"card-header"},os={class:"author-info"},cs={key:3,class:"fullscreen-loading"},us={class:"loading-content"},ds={key:0,class:"loading-subtitle"},ms={key:1,class:"loading-subtitle"},ps={key:2,class:"loading-progress"},fs={class:"loading-timer"},ys={class:"side-column"},hs={class:"help-section"},vs={class:"card-header"},gs={class:"examples-section"},ws={class:"section-title"},bs={class:"example-list"},_s=["onClick"],xs={class:"example-info"},ks={class:"example-name"},Is={class:"example-artist"},Es={class:"formats-section"},Cs={key:0,class:"format-list"},Ts={key:1,class:"format-list"},Us={key:2,class:"format-list"},$s={class:"card-header"},As={class:"author-info"},Ps={class:"footer-content"},Ss={class:"footer-info"},Ms={class:"footer-links"},zs={class:"footer-text"},Ls={class:"tech-stack"},Vs={class:"build-info"},Ds={class:"settings-content"},js={class:"setting-section"},Os={class:"form-item-hint"},Fs={class:"setting-section"},Bs={class:"section-title"},Ns={class:"form-item-hint"},Rs={class:"form-item-hint"},qs={class:"form-item-hint"},Ws={class:"form-item-hint"},Qs={class:"setting-section"},Zs={class:"section-title"},Hs={class:"form-item-hint"},Ks={style:{display:"flex","align-items":"center",gap:"8px","flex-wrap":"wrap"}},Js={class:"dialog-footer"},Gs={class:"welcome-content"},Ys={class:"welcome-icon"},Xs={class:"dialog-footer"},el=U(st({__name:"App",setup(e){const a=_e("lossless"),l=_e(!1),n=_e(!1),i=()=>{const e=ze.value?"rgba(0,0,0,0.6)":"rgba(255,255,255,0.7)",t=ze.value?"切换为浅色模式…":"切换为深色模式…",a=oe.service({fullscreen:!0,lock:!0,text:t,background:e});requestAnimationFrame(()=>{ze.value=!ze.value,Le(ze.value),localStorage.setItem("theme",ze.value?"dark":"light"),setTimeout(()=>{a.close()},700)})},r=_e("music","playlist","album"),m=Object.entries(Ge).map(([e,t])=>({value:e,label:t})),v=ae(()=>{if("undefined"==typeof window)return!1;const e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e||"::1"===e});O(()=>{"undefined"!=typeof window&&window.removeEventListener("resize",ba),oa()}),ye(()=>{(()=>{try{const e=localStorage.getItem("app-settings");if(e){const t=JSON.parse(e);Object.assign(Ae,{...$e,...t})}}catch{Object.assign(Ae,$e)}})(),ga.value=wa(),"undefined"!=typeof window&&window.addEventListener("resize",ba),(()=>{const e="dark"===("undefined"!=typeof window?localStorage.getItem("theme"):null);ze.value=e,Le(e)})(),setTimeout(()=>{(function(e){const t=e+"=",a=document.cookie.split(";");for(let s=0;s<a.length;s++){let e=a[s];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null})("hasSeenWelcome")||(n.value=!0)},1e3)});const w=e=>{r.value=e,"music"===e?(ya(),ha()):"playlist"===e?(fa(),ha()):"album"===e&&(fa(),ya())},_=()=>{!function(e,t,a=365){let s="";if(a){const e=new Date;e.setTime(e.getTime()+24*a*60*60*1e3),s="; expires="+e.toUTCString()}document.cookie=`${e}=${t||""}${s}; path=/;SameSite=Lax`}("hasSeenWelcome","true",30),n.value=!1},k=(e,t)=>{"playlist"===r.value?(va(e,"playlist"),te.success(`已选择示例歌单: ${t}`)):"album"===r.value?(va(e,"album"),te.success(`已选择示例专辑: ${t}`)):(va(e,"music"),te.success(`已选择示例歌曲: ${t}`))},U=async e=>{try{const t=e.track||e,s=e.quality||a.value,l="string"==typeof s?s:"lossless",n=`https://music.163.com/song?id=${t.id}`,i=await at.parseMusicInfo(n,l);Gt.value=i,me({title:"解析成功",message:`成功解析歌曲：${i.name} (${i.qualityName})`,type:"success"})}catch(t){te.error(t.message||"解析失败，请稍后重试")}},A=()=>{},S=ae(()=>"playlist"===r.value&&ea.value?ea.value:"album"===r.value&&sa.value?{name:sa.value.name,creator:sa.value.artist,time:sa.value.publishTime,totalCount:sa.value.trackCount,tracks:sa.value.tracks,picUrl:sa.value.picUrl,isAlbum:!0}:null);return(e,z)=>{const L=ee("el-icon"),V=ee("el-button"),j=ee("el-header"),O=ee("el-card"),B=ee("el-input"),R=ee("el-form-item"),q=ee("el-tag"),W=ee("el-option"),Z=ee("el-select"),J=ee("el-form"),G=ee("el-skeleton"),Y=ee("el-divider"),X=ee("el-link"),ae=ee("el-alert"),se=ee("el-main"),ne=ee("el-aside"),oe=ee("el-container"),ue=ee("el-space"),me=ee("el-text"),fe=ee("el-footer"),ye=ee("el-switch"),he=ee("el-dialog"),ge=ee("el-config-provider");return N(),H(ge,{size:"default"},{default:P(()=>[D(oe,{class:"app-container",direction:"vertical"},{default:P(()=>[D(j,{class:"app-header"},{default:P(()=>[ce("div",Ea,[ce("div",Ca,[ce("div",Ta,[D(L,{class:"logo-icon",size:24},{default:P(()=>[D(x(s))]),_:1}),z[29]||(z[29]=ce("span",{class:"logo-text"},"网易云音乐无损解析",-1))]),ce("span",Ua,we("music"===r.value?"单曲解析":"playlist"===r.value?"歌单解析":"专辑解析"),1)]),ce("div",$a,[D(V,{onClick:z[0]||(z[0]=e=>l.value=!0),type:"text",class:"settings-btn",icon:x(C),circle:"",size:"large"},null,8,["icon"])])])]),_:1}),D(oe,{class:"main-container"},{default:P(()=>[D(se,{class:"app-main"},{default:P(()=>[D(O,{class:"page-header-card",shadow:"hover"},{default:P(()=>[...z[30]||(z[30]=[ce("div",{class:"page-header"},[ce("h1",{class:"page-title"},"网易云音乐无损解析"),ce("p",{class:"page-description"},"永久免费的网易云音乐高品质解析")],-1)])]),_:1}),D(O,{class:"view-switcher-container",shadow:"hover"},{header:P(()=>[ce("div",Aa,[D(L,null,{default:P(()=>[D(x(u))]),_:1}),z[31]||(z[31]=ce("span",null,"选择解析方式",-1))])]),default:P(()=>[ce("div",Pa,[D(V,{class:"view-btn",type:"music"===r.value?"primary":"default",plain:"music"!==r.value,round:"",size:"large",onClick:z[1]||(z[1]=e=>w("music"))},{default:P(()=>[...z[32]||(z[32]=[de("单曲解析",-1)])]),_:1},8,["type","plain"]),D(V,{class:"view-btn",type:"playlist"===r.value?"primary":"default",plain:"playlist"!==r.value,round:"",size:"large",onClick:z[2]||(z[2]=e=>w("playlist"))},{default:P(()=>[...z[33]||(z[33]=[de("歌单解析",-1)])]),_:1},8,["type","plain"]),D(V,{class:"view-btn",type:"album"===r.value?"primary":"default",plain:"album"!==r.value,round:"",size:"large",onClick:z[3]||(z[3]=e=>w("album"))},{default:P(()=>[...z[34]||(z[34]=[de("专辑解析",-1)])]),_:1},8,["type","plain"])])]),_:1}),ve(ce("div",Sa,[D(O,{class:"input-card",shadow:"hover"},{header:P(()=>[ce("div",Ma,[D(L,null,{default:P(()=>[D(x(f))]),_:1}),z[35]||(z[35]=ce("span",null,"音乐链接解析",-1))])]),default:P(()=>[D(J,{model:{musicUrl:x(Kt),selectedQuality:a.value},"label-position":"left"},{default:P(()=>[D(R,{label:"音乐链接"},{default:P(()=>[D(B,{modelValue:x(Kt),"onUpdate:modelValue":z[4]||(z[4]=e=>ke(Kt)?Kt.value=e:null),placeholder:"请输入网易云音乐分享链接",clearable:"",onKeyup:$(x(ca),["enter"])},{prepend:P(()=>[D(L,null,{default:P(()=>[D(x(f))]),_:1})]),_:1},8,["modelValue","onKeyup"])]),_:1}),ce("div",za,[D(R,{label:"音质选择",class:"quality-item"},{default:P(()=>[D(Z,{modelValue:a.value,"onUpdate:modelValue":z[5]||(z[5]=e=>a.value=e),placeholder:"请选择音质",style:{width:"200px"}},{default:P(()=>[(N(!0),le(t,null,ie(x(m),e=>(N(),H(W,{key:e.value,label:e.label,value:e.value},{default:P(()=>[ce("div",La,[ce("span",null,we(e.label),1),"jymaster"===e.value?(N(),H(q,{key:0,type:"danger",size:"small"},{default:P(()=>[...z[36]||(z[36]=[de("最高",-1)])]),_:1})):"lossless"===e.value?(N(),H(q,{key:1,type:"success",size:"small"},{default:P(()=>[...z[37]||(z[37]=[de("推荐",-1)])]),_:1})):M("",!0)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),D(R,null,{default:P(()=>[D(V,{type:"primary",onClick:z[6]||(z[6]=()=>x(ca)(a.value)),loading:x(Jt),disabled:!x(Kt).trim(),icon:x(I),style:{width:"100%"}},{default:P(()=>[de(we(x(Jt)?"解析中...":"开始解析"),1)]),_:1},8,["loading","disabled","icon"])]),_:1})]),_:1},8,["model"])]),_:1})],512),[[T,"music"===r.value]]),ve(ce("div",Va,[D(O,{class:"input-card",shadow:"hover"},{header:P(()=>[ce("div",Da,[D(L,null,{default:P(()=>[D(x(y))]),_:1}),z[38]||(z[38]=ce("span",null,"歌单链接解析",-1))])]),default:P(()=>[D(J,{model:{playlistUrl:x(Yt)},"label-position":"left"},{default:P(()=>[D(R,{label:"歌单链接"},{default:P(()=>[D(B,{modelValue:x(Yt),"onUpdate:modelValue":z[7]||(z[7]=e=>ke(Yt)?Yt.value=e:null),placeholder:"请输入网易云音乐歌单链接（支持短链接 163cn.tv/xxx）",clearable:"",onKeyup:$(x(ma),["enter"])},{prepend:P(()=>[D(L,null,{default:P(()=>[D(x(f))]),_:1})]),_:1},8,["modelValue","onKeyup"])]),_:1}),ce("div",ja,[D(R,{label:"音质选择",class:"quality-item"},{default:P(()=>[D(Z,{modelValue:a.value,"onUpdate:modelValue":z[8]||(z[8]=e=>a.value=e),placeholder:"请选择音质",style:{width:"200px"}},{default:P(()=>[(N(!0),le(t,null,ie(x(m),e=>(N(),H(W,{key:e.value,label:e.label,value:e.value},{default:P(()=>[ce("div",Oa,[ce("span",null,we(e.label),1),"jymaster"===e.value?(N(),H(q,{key:0,type:"danger",size:"small"},{default:P(()=>[...z[39]||(z[39]=[de("最高",-1)])]),_:1})):"lossless"===e.value?(N(),H(q,{key:1,type:"success",size:"small"},{default:P(()=>[...z[40]||(z[40]=[de("推荐",-1)])]),_:1})):M("",!0)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),D(R,null,{default:P(()=>[D(V,{type:"primary",onClick:z[9]||(z[9]=()=>x(ma)(x(Qt))),loading:x(Xt),disabled:!x(Yt).trim(),icon:x(I),style:{width:"100%"}},{default:P(()=>[de(we(x(Xt)?"解析中...":"开始解析"),1)]),_:1},8,["loading","disabled","icon"])]),_:1})]),_:1},8,["model"])]),_:1})],512),[[T,"playlist"===r.value]]),ve(ce("div",Fa,[D(O,{class:"input-card",shadow:"hover"},{header:P(()=>[ce("div",Ba,[D(L,null,{default:P(()=>[D(x(o))]),_:1}),z[41]||(z[41]=ce("span",null,"专辑链接解析",-1))])]),default:P(()=>[D(J,{model:{albumUrl:x(ta)},"label-position":"left"},{default:P(()=>[D(R,{label:"专辑链接"},{default:P(()=>[D(B,{modelValue:x(ta),"onUpdate:modelValue":z[10]||(z[10]=e=>ke(ta)?ta.value=e:null),placeholder:"请输入网易云音乐专辑链接（支持短链接 163cn.tv/xxx）",clearable:"",onKeyup:$(x(pa),["enter"])},{prepend:P(()=>[D(L,null,{default:P(()=>[D(x(f))]),_:1})]),_:1},8,["modelValue","onKeyup"])]),_:1}),ce("div",Na,[D(R,{label:"音质选择",class:"quality-item"},{default:P(()=>[D(Z,{modelValue:a.value,"onUpdate:modelValue":z[11]||(z[11]=e=>a.value=e),placeholder:"请选择音质",style:{width:"200px"}},{default:P(()=>[(N(!0),le(t,null,ie(x(m),e=>(N(),H(W,{key:e.value,label:e.label,value:e.value},{default:P(()=>[ce("div",Ra,[ce("span",null,we(e.label),1),"jymaster"===e.value?(N(),H(q,{key:0,type:"danger",size:"small"},{default:P(()=>[...z[42]||(z[42]=[de("最高",-1)])]),_:1})):"lossless"===e.value?(N(),H(q,{key:1,type:"success",size:"small"},{default:P(()=>[...z[43]||(z[43]=[de("推荐",-1)])]),_:1})):M("",!0)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),D(R,null,{default:P(()=>[D(V,{type:"primary",onClick:z[12]||(z[12]=()=>x(pa)(x(Qt))),loading:x(aa),disabled:!x(ta).trim(),icon:x(I),style:{width:"100%"}},{default:P(()=>[de(we(x(aa)?"解析中...":"开始解析"),1)]),_:1},8,["loading","disabled","icon"])]),_:1})]),_:1},8,["model"])]),_:1})],512),[[T,"album"===r.value]]),S.value?(N(),le("div",qa,[D(Ft,{"playlist-info":S.value,"display-tracks":x(Wt),"current-page":x(Bt),"page-size":x(Nt),"total-tracks":x(Rt),"selected-quality":a.value,settings:x(Ae),onTrackParsed:U,onTrackSelected:A,onPageChange:x(Zt)},null,8,["playlist-info","display-tracks","current-page","page-size","total-tracks","selected-quality","settings","onPageChange"])])):M("",!0),x(Gt)?(N(),le("div",Wa,[(N(),H(F,null,{default:P(()=>[D(wt,{"music-info":x(Gt),settings:x(Ae)},null,8,["music-info","settings"])]),fallback:P(()=>[ce("div",Qa,[D(G,{rows:3,animated:""}),z[44]||(z[44]=ce("div",{class:"loading-text"},"正在加载播放器...",-1))])]),_:1}))])):M("",!0),x(ga)||"dual-column"!==x(Ae).layoutMode?(N(),le("div",Za,[ce("div",Ha,[D(O,{shadow:"hover"},{header:P(()=>[ce("div",Ka,[D(L,null,{default:P(()=>[D(x(re))]),_:1}),z[45]||(z[45]=ce("span",null,"示例歌曲与支持格式",-1))])]),default:P(()=>[ce("div",Ja,[ce("h4",Ga,we("playlist"===r.value?"📋 热门歌单":"album"===r.value?"💿 热门专辑":"🎧 热门示例"),1),ce("div",Ya,[(N(!0),le(t,null,ie(x(Ia)(r.value),(e,t)=>(N(),le("div",{key:t,class:"example-item",onClick:t=>k(e.url,e.name)},[ce("div",es,[ce("div",ts,we(e.name),1),ce("div",as,we("playlist"===r.value?e.creator:e.artist),1)]),D(V,{type:"text",size:"small"},{default:P(()=>[...z[46]||(z[46]=[de("使用",-1)])]),_:1})],8,Xa))),128))])]),D(Y),ce("div",ss,[z[61]||(z[61]=ce("h4",{class:"section-title"},"📋 支持格式",-1)),"music"===r.value?(N(),le("div",ls,[D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[47]||(z[47]=[de("music.163.com/song?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[48]||(z[48]=[de("y.music.163.com/m/song/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[49]||(z[49]=[de("music.163.com/#/song?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[50]||(z[50]=[de("163cn.tv/xxx",-1)])]),_:1})])):"playlist"===r.value?(N(),le("div",ns,[D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[51]||(z[51]=[de("music.163.com/playlist?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[52]||(z[52]=[de("music.163.com/#/playlist?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[53]||(z[53]=[de("y.music.163.com/m/playlist/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[54]||(z[54]=[de("163cn.tv/xxx",-1)])]),_:1})])):"album"===r.value?(N(),le("div",is,[D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[55]||(z[55]=[de("music.163.com/album?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[56]||(z[56]=[de("music.163.com/album/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[57]||(z[57]=[de("music.163.com/#/album?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[58]||(z[58]=[de("music.163.com/#/album/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[59]||(z[59]=[de("y.music.163.com/m/album/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[60]||(z[60]=[de("163cn.tv/xxx",-1)])]),_:1})])):M("",!0)])]),_:1})]),D(O,{class:"author-card",shadow:"hover"},{header:P(()=>[ce("div",rs,[D(L,null,{default:P(()=>[D(x(p))]),_:1}),z[62]||(z[62]=ce("span",null,"作者与联系",-1))])]),default:P(()=>[ce("div",os,[z[69]||(z[69]=ce("p",null,[ce("strong",null,"作者："),de(" 苏晓晴")],-1)),ce("p",null,[z[64]||(z[64]=ce("strong",null,"个人博客：",-1)),z[65]||(z[65]=de()),D(X,{type:"primary",href:"https://www.toubiec.cn",target:"_blank"},{default:P(()=>[...z[63]||(z[63]=[de("点击跳转",-1)])]),_:1})]),z[70]||(z[70]=ce("p",null,[ce("strong",null,"联系方式："),de(" QQ3074193836")],-1)),z[71]||(z[71]=ce("p",null,[ce("strong",null,"版权声明："),de(" 本工具仅用于学习交流，不提供任何音频文件存储服务。")],-1)),ce("p",null,[z[67]||(z[67]=ce("strong",null,"反馈地址：",-1)),z[68]||(z[68]=de()),D(X,{type:"primary",href:"https://github.com/Suxiaoqinx/Netease_url/issues",target:"_blank"},{default:P(()=>[...z[66]||(z[66]=[de("点击跳转",-1)])]),_:1})]),z[72]||(z[72]=ce("p",null,"如果您在使用中遇到任何问题，或有任何建议，欢迎联系！",-1))])]),_:1})])):M("",!0),x(Xt)?(N(),le("div",cs,[ce("div",us,[D(L,{class:"loading-icon",size:48},{default:P(()=>[D(x(Ie))]),_:1}),z[73]||(z[73]=ce("div",{class:"loading-text"},"正在解析歌单中...",-1)),x(ua)?(N(),le("div",ds," 正在解析："+we(x(ua).name)+" - "+we(x(ua).artist),1)):(N(),le("div",ms," 请稍候，正在获取歌单信息 ")),x(da).totalTracks>0?(N(),le("div",ps," 进度："+we(x(da).currentIndex+1)+" / "+we(x(da).totalTracks)+" (成功："+we(x(da).successfulTracks.filter(e=>e.parsed).length)+") ",1)):M("",!0),ce("div",fs,"已用时间："+we(x(na))+"秒",1)])])):M("",!0),D(O,{class:"disclaimer-card",shadow:"hover"},{default:P(()=>[D(ae,{title:"免责声明",description:"本工具仅供学习交流使用，请支持正版音乐。使用本工具时请遵守相关法律法规，尊重音乐人的劳动成果。",type:"warning",closable:!1,"show-icon":"",center:""})]),_:1})]),_:1}),x(ga)||"dual-column"!==x(Ae).layoutMode?M("",!0):(N(),H(ne,{key:0,class:"app-aside",width:"340px"},{default:P(()=>[ce("div",ys,[ce("div",hs,[D(O,{shadow:"hover"},{header:P(()=>[ce("div",vs,[D(L,null,{default:P(()=>[D(x(re))]),_:1}),z[74]||(z[74]=ce("span",null,"示例歌曲与支持格式",-1))])]),default:P(()=>[ce("div",gs,[ce("h4",ws,we("playlist"===r.value?"📋 热门歌单":"album"===r.value?"💿 热门专辑":"🎧 热门示例"),1),ce("div",bs,[(N(!0),le(t,null,ie(x(Ia)(r.value),(e,t)=>(N(),le("div",{key:t,class:"example-item",onClick:t=>k(e.url,e.name)},[ce("div",xs,[ce("div",ks,we(e.name),1),ce("div",Is,we("playlist"===r.value?e.creator:e.artist),1)]),D(V,{type:"text",size:"small"},{default:P(()=>[...z[75]||(z[75]=[de("使用",-1)])]),_:1})],8,_s))),128))])]),D(Y),ce("div",Es,[z[89]||(z[89]=ce("h4",{class:"section-title"},"📋 支持格式",-1)),"music"===r.value?(N(),le("div",Cs,[D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[76]||(z[76]=[de("music.163.com/song?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[77]||(z[77]=[de("y.music.163.com/m/song/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[78]||(z[78]=[de("music.163.com/#/song?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"info"},{default:P(()=>[...z[79]||(z[79]=[de("163cn.tv/xxx",-1)])]),_:1})])):"playlist"===r.value?(N(),le("div",Ts,[D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[80]||(z[80]=[de("music.163.com/playlist?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[81]||(z[81]=[de("music.163.com/#/playlist?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[82]||(z[82]=[de("y.music.163.com/m/playlist/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"success"},{default:P(()=>[...z[83]||(z[83]=[de("music.163.com/discover/toplist?id=xxx",-1)])]),_:1})])):"album"===r.value?(N(),le("div",Us,[D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[84]||(z[84]=[de("music.163.com/album?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[85]||(z[85]=[de("music.163.com/album/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[86]||(z[86]=[de("music.163.com/#/album?id=xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[87]||(z[87]=[de("music.163.com/#/album/xxx",-1)])]),_:1}),D(q,{class:"format-item",type:"warning"},{default:P(()=>[...z[88]||(z[88]=[de("y.music.163.com/m/album/xxx",-1)])]),_:1})])):M("",!0)])]),_:1})]),D(O,{class:"author-card",shadow:"hover"},{header:P(()=>[ce("div",$s,[D(L,null,{default:P(()=>[D(x(p))]),_:1}),z[90]||(z[90]=ce("span",null,"作者与联系",-1))])]),default:P(()=>[ce("div",As,[z[97]||(z[97]=ce("p",null,[ce("strong",null,"作者："),de(" 苏晓晴")],-1)),ce("p",null,[z[92]||(z[92]=ce("strong",null,"个人博客：",-1)),z[93]||(z[93]=de()),D(X,{type:"primary",href:"https://www.toubiec.cn",target:"_blank"},{default:P(()=>[...z[91]||(z[91]=[de("点击跳转",-1)])]),_:1})]),z[98]||(z[98]=ce("p",null,[ce("strong",null,"联系方式："),de(" QQ3074193836")],-1)),z[99]||(z[99]=ce("p",null,[ce("strong",null,"版权声明："),de(" 本工具仅用于学习交流，不提供任何音频文件存储服务。")],-1)),ce("p",null,[z[95]||(z[95]=ce("strong",null,"反馈地址：",-1)),z[96]||(z[96]=de()),D(X,{type:"primary",href:"https://github.com/Suxiaoqinx/Netease_url/issues",target:"_blank"},{default:P(()=>[...z[94]||(z[94]=[de("点击跳转",-1)])]),_:1})]),z[100]||(z[100]=ce("p",null,"如果您在使用中遇到任何问题，或有任何建议，欢迎联系！",-1))])]),_:1})])]),_:1}))]),_:1}),D(fe,{class:"app-footer"},{default:P(()=>[ce("div",Ps,[ce("div",Ss,[ce("div",Ms,[D(ue,{size:20,wrap:""},{default:P(()=>[D(X,{href:"https://github.com/Suxiaoqinx/Netease_url",target:"_blank",underline:!1},{default:P(()=>[D(L,null,{default:P(()=>[...z[101]||(z[101]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"})],-1)])]),_:1}),z[102]||(z[102]=de(" GitHub ",-1))]),_:1}),D(X,{href:"https://music.163.com",target:"_blank",underline:!1},{default:P(()=>[D(L,null,{default:P(()=>[...z[103]||(z[103]=[ce("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ce("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 4c-2.93 1.346-5 5.046-5 8.492C4 17 8 20 12 20s8-3 8-7c0-3.513-3.5-5.513-6-5.513S9 9 9 12c0 2 1.5 3 3 3s3-1 3-3c0-3.513-2-4.508-2-6.515c0-3.504 3.5-2.603 4-1.502"})],-1)])]),_:1}),z[104]||(z[104]=de(" 网易云音乐 ",-1))]),_:1}),D(X,{href:"https://element-plus.org",target:"_blank",underline:!1},{default:P(()=>[D(L,null,{default:P(()=>[D(x(g))]),_:1}),z[105]||(z[105]=de(" Element Plus ",-1))]),_:1})]),_:1})]),D(Y),ce("div",zs,[ce("div",Ls,[D(q,{size:"small",type:"success"},{default:P(()=>[...z[106]||(z[106]=[de("Vue 3",-1)])]),_:1}),D(q,{size:"small",type:"primary"},{default:P(()=>[...z[107]||(z[107]=[de("Element Plus",-1)])]),_:1}),D(q,{size:"small",type:"warning"},{default:P(()=>[...z[108]||(z[108]=[de("Vite",-1)])]),_:1}),D(q,{size:"small",type:"info"},{default:P(()=>[...z[109]||(z[109]=[de("JavaScript",-1)])]),_:1})]),z[111]||(z[111]=ce("div",{class:"copyright"}," © 2024 - 2025 网易云音乐无损解析 - 仅供学习交流使用 ",-1)),ce("div",Vs,[D(me,{size:"small",type:"info"},{default:P(()=>[...z[110]||(z[110]=[de(" 构建时间: 2025/11/29 | 版本: v1.1.9 ",-1)])]),_:1})])])])])]),_:1})]),_:1}),(N(),H(pe,{to:"body"},[D(he,{modelValue:l.value,"onUpdate:modelValue":z[26]||(z[26]=e=>l.value=e),title:"网站设置",width:x(ga)?"100%":"600px",fullscreen:x(ga),"close-on-click-modal":!0,"show-close":!0,class:"settings-dialog"},{footer:P(()=>[ce("div",Js,[D(V,{type:"primary",onClick:z[25]||(z[25]=e=>{x(Pe)(),l.value=!1}),icon:x(K)},{default:P(()=>[...z[119]||(z[119]=[de("完成",-1)])]),_:1},8,["icon"])])]),default:P(()=>[ce("div",Ds,[ce("div",js,[D(J,{model:x(Ae),"label-width":"120px","label-position":"left",class:"settings-form"},{default:P(()=>[D(R,{label:"PC端布局模式"},{default:P(()=>[D(Z,{modelValue:x(Ae).layoutMode,"onUpdate:modelValue":z[13]||(z[13]=e=>x(Ae).layoutMode=e),onChange:z[14]||(z[14]=()=>{x(Pe)(),x(te).success("布局模式已保存")}),style:{width:"160px"}},{default:P(()=>[D(W,{label:"双栏",value:"dual-column"}),D(W,{label:"单栏",value:"single-column"})]),_:1},8,["modelValue"]),ce("div",Os,[D(me,{type:"info",size:"small"},{default:P(()=>[...z[112]||(z[112]=[de("仅在PC端生效；用于切换双栏或单栏布局",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])]),ce("div",Fs,[ce("div",Bs,[D(L,null,{default:P(()=>[D(x(h))]),_:1}),z[113]||(z[113]=ce("span",null,"下载配置",-1))]),D(J,{model:x(Ae),"label-width":"120px","label-position":"left",class:"settings-form"},{default:P(()=>[D(R,{label:"文件命名格式"},{default:P(()=>[D(Z,{modelValue:x(Ae).filenameFormat,"onUpdate:modelValue":z[15]||(z[15]=e=>x(Ae).filenameFormat=e),placeholder:"请选择命名格式",style:{width:"160px"},onChange:z[16]||(z[16]=()=>{x(Pe)(),x(te).success("文件命名格式已保存")})},{default:P(()=>[D(W,{label:"歌曲名 - 歌手名",value:"song-artist"}),D(W,{label:"歌手名 - 歌曲名",value:"artist-song"}),D(W,{label:"仅歌曲名",value:"song-only"})]),_:1},8,["modelValue"]),ce("div",Ns,[D(me,{type:"info",size:"small"},{default:P(()=>[de(" 示例："+we("artist-song"===x(Ae).filenameFormat?"周杰伦 - 夜曲":"song-only"===x(Ae).filenameFormat?"夜曲":"夜曲 - 周杰伦"),1)]),_:1})])]),_:1}),D(R,{label:"自动写入元数据"},{default:P(()=>[D(ye,{modelValue:x(Ae).writeMetadata,"onUpdate:modelValue":z[17]||(z[17]=e=>x(Ae).writeMetadata=e),onChange:z[18]||(z[18]=()=>{x(Pe)(),x(te).success("元数据设置已保存")})},null,8,["modelValue"]),ce("div",Rs,[D(me,{type:"info",size:"small"},{default:P(()=>[...z[114]||(z[114]=[de("写入歌曲名、歌手、专辑、封面等信息（不支持杜比全景声）",-1)])]),_:1})])]),_:1}),D(R,{label:"启用ZIP打包"},{default:P(()=>[D(ye,{modelValue:x(Ae).zipDownload,"onUpdate:modelValue":z[19]||(z[19]=e=>x(Ae).zipDownload=e),onChange:z[20]||(z[20]=()=>{x(Pe)(),x(te).success("ZIP打包设置已保存")})},null,8,["modelValue"]),ce("div",qs,[D(me,{type:"info",size:"small"},{default:P(()=>[...z[115]||(z[115]=[de("打包音频、歌词、封面、信息文件为一个压缩包",-1)])]),_:1})])]),_:1}),D(R,{label:"歌词格式"},{default:P(()=>[D(ye,{modelValue:x(Ae).srtLyricsDownload,"onUpdate:modelValue":z[21]||(z[21]=e=>x(Ae).srtLyricsDownload=e),onChange:z[22]||(z[22]=()=>{x(Pe)(),x(te).success("歌词格式设置已保存")}),"active-text":"SRT","inactive-text":"LRC"},null,8,["modelValue"]),ce("div",Ws,[D(me,{type:"info",size:"small"},{default:P(()=>[...z[116]||(z[116]=[de("开启为 SRT 字幕；关闭为 LRC 歌词",-1)])]),_:1})])]),_:1})]),_:1},8,["model"])]),ce("div",Qs,[ce("div",Zs,[D(L,null,{default:P(()=>[D(x(b))]),_:1}),z[117]||(z[117]=ce("span",null,"解析配置",-1))]),D(J,{model:x(Ae),"label-width":"120px","label-position":"left",class:"settings-form"},{default:P(()=>[D(R,{label:"启用链接缓存"},{default:P(()=>[D(ye,{modelValue:x(Ae).enableUrlCache,"onUpdate:modelValue":z[23]||(z[23]=e=>x(Ae).enableUrlCache=e),onChange:z[24]||(z[24]=()=>{x(Pe)(),x(te).success("链接缓存设置已保存")})},null,8,["modelValue"]),ce("div",Hs,[D(me,{type:"info",size:"small"},{default:P(()=>[...z[118]||(z[118]=[de("减少重复解析，提升相同歌曲再次播放速度",-1)])]),_:1})])]),_:1}),D(R,{label:"环境与版本"},{default:P(()=>[ce("div",Ks,[D(q,{type:v.value?"success":"info",size:"small"},{default:P(()=>[de(we(v.value?"Dev环境":"Prod环境"),1)]),_:1},8,["type"])])]),_:1})]),_:1},8,["model"])])])]),_:1},8,["modelValue","width","fullscreen"])])),D(he,{modelValue:n.value,"onUpdate:modelValue":z[27]||(z[27]=e=>n.value=e),title:"系统公告",width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:"",class:"welcome-dialog"},{footer:P(()=>[ce("div",Xs,[D(V,{type:"primary",onClick:_,size:"large"},{default:P(()=>[...z[122]||(z[122]=[de(" 我知道了 ",-1)])]),_:1})])]),default:P(()=>[ce("div",Gs,[ce("div",Ys,[D(L,{size:48,color:"#409EFF"},{default:P(()=>[D(x(d))]),_:1})]),z[120]||(z[120]=ce("h3",{class:"welcome-title"},"欢迎使用网易云音乐解析系统！",-1)),z[121]||(z[121]=ce("div",{class:"welcome-message"},[ce("p",null,"如果无法下载或下载后找不到文件请更换浏览器下载!")],-1))])]),_:1},8,["modelValue"]),D(V,{class:"floating-theme-btn floating-fab",type:"default",circle:"",size:"large",onClick:z[28]||(z[28]=e=>i()),title:x(ze)?"切换为浅色":"切换为深色"},{icon:P(()=>[D(L,{size:22},{default:P(()=>[(N(),H(Q(x(ze)?x(c):x(E))))]),_:1})]),_:1},8,["title"])]),_:1})}}},[["__scopeId","data-v-f1dc20ba"]]));el.component("ElButton",v),el.component("ElInput",J),el.component("ElSelect",B),el.component("ElOption",j),el.component("ElForm",X),el.component("ElFormItem",W),el.component("ElCard",i),el.component("ElContainer",xe),el.component("ElHeader",be),el.component("ElMain",_),el.component("ElFooter",z),el.component("ElConfigProvider",l),el.component("ElIcon",m),el.component("ElTag",ge),el.component("ElLink",ne),el.component("ElText",Z),el.component("ElDivider",A),el.component("ElSpace",V),el.component("ElDialog",he),el.component("ElDrawer",R),el.component("ElAlert",a),el.component("ElProgress",G),el.component("ElRadio",k),el.component("ElRadioGroup",r),el.component("ElSwitch",ue),el.component("ElTabs",se),el.component("ElTabPane",S),el.component("ElPagination",fe),el.config.globalProperties.$message=te,el.mount("#app");